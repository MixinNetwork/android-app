<!DOCTYPE html>
<html>
<head>
    <script>
        async function initRisk() {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = 'https://risk.checkout.com/cdn/risk/1/risk.js';
                script.id = 'risk-js';
                document.head.appendChild(script);
                script.addEventListener('load', () => {
                    const risk = window.Risk.init("#CHCEKOUT_ID");
                    risk.publishRiskData()
                        .then((deviceSessionId) => {
                            resolve(deviceSessionId);
                        })
                        .catch((error) => {
                            reject(error);
                        });
                });
            });
        }

        function riskDeviceSessionId() {
           initRisk().then((deviceSessionId) => {
                console.log('Device Session ID:', deviceSessionId);
                window.MixinContext.deviceSessionIdCallback(deviceSessionId);
            }).catch((error) => {
                window.MixinContext.deviceSessionIdCallback(error);
            });
        }
    </script>
</head>
<body>
</body>
</html>
